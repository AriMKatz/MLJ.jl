<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Working with Tasks · MLJ</title><link href="https://cdnjs.cloudflare.com/ajax/libs/normalize/4.2.0/normalize.min.css" rel="stylesheet" type="text/css"/><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.2.0/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link href="../assets/documenter.css" rel="stylesheet" type="text/css"/></head><body><nav class="toc"><h1>MLJ</h1><select id="version-selector" onChange="window.location.href=this.value" style="visibility: hidden"></select><form class="search" id="search-form" action="../search/"><input id="search-query" name="q" type="text" placeholder="Search docs"/></form><ul><li><a class="toctext" href="../">Getting Started</a></li><li class="current"><a class="toctext" href>Working with Tasks</a><ul class="internal"></ul></li><li><a class="toctext" href="../built_in_transformers/">Built-in Transformers</a></li><li><a class="toctext" href="../learning_networks/">Learning Networks</a></li><li><a class="toctext" href="../simple_user_defined_models/">Simple User Defined Models</a></li><li><a class="toctext" href="../adding_models_for_general_use/">Adding Models for General Use</a></li><li><a class="toctext" href="../internals/">Internals</a></li><li><a class="toctext" href="../glossary/">Glossary</a></li><li><a class="toctext" href="../api/">API</a></li><li><a class="toctext" href="../frequently_asked_questions/">FAQ</a></li><li><a class="toctext" href="../NEWS/">MLJ News</a></li><li><a class="toctext" href="../julia_blogpost/">Julia BlogPost</a></li></ul></nav><article id="docs"><header><nav><ul><li><a href>Working with Tasks</a></li></ul><a class="edit-page" href="https://github.com/alan-turing-institute/MLJ.jl/blob/master/docs/src/working_with_tasks.md"><span class="fa"></span> Edit on GitHub</a></nav><hr/><div id="topbar"><span>Working with Tasks</span><a class="fa fa-bars" href="#"></a></div></header><h1><a class="nav-anchor" id="Working-with-Tasks-1" href="#Working-with-Tasks-1">Working with Tasks</a></h1><p>In MLJ a <em>task</em> is a synthesis of three elements: <em>data</em>, an <em>interpretation</em> of that data, and a <em>learning objective</em>. Once one has a task one is ready to choose learning models.</p><h3><a class="nav-anchor" id="Scientific-types-and-the-interpretation-of-data-1" href="#Scientific-types-and-the-interpretation-of-data-1">Scientific types and the interpretation of data</a></h3><p>Generally the columns of a table, such as a DataFrame, represents real quantities. However, the nature of a quantity is not always clear from the representation. For example, we might count phone calls using the <code>UInt32</code> type but also use <code>UInt32</code> to represent a categorical feature, such as the species of conifers. MLJ mitigates such ambiguity by: (i) distinguishing between the machine and <em><a href="../">scientific type</a></em> of scalar data; (ii) disallowing the representation of multiple scientific types by the same machine type during learning; and (iii) establising a convention for what scientific types a given machine type may represent (see the table at the end of <a href="../">Getting Started</a>).</p><p>Explicitly specifying scientific types during the construction of a MLJ task is the user&#39;s opportunity to articulate how the supplied data should be interpreted.</p><h3><a class="nav-anchor" id="Learning-objectives-1" href="#Learning-objectives-1">Learning objectives</a></h3><p>In MLJ specifying a learing objective means specifying: (i) whether learning is supervised or not; (ii) whether, in the supervised case, predictions are to be probabilistic or deterministic; and (iii) what part of the data is relevant and what role is each part to play.</p><h3><a class="nav-anchor" id="Sample-usage-1" href="#Sample-usage-1">Sample usage</a></h3><p>Load a built-in task:</p><pre><code class="language-julia">using MLJ
task = load_iris()</code></pre><pre><code class="language-none">SupervisedTask @ 3…93
</code></pre><p>Extract input and target:</p><pre><code class="language-julia">X, y = task()
X[1:3, :]</code></pre><table class="data-frame"><thead><tr><th></th><th>sepal_length</th><th>sepal_width</th><th>petal_length</th><th>petal_width</th></tr><tr><th></th><th>Float64</th><th>Float64</th><th>Float64</th><th>Float64</th></tr></thead><tbody><p>3 rows × 4 columns</p><tr><th>1</th><td>5.1</td><td>3.5</td><td>1.4</td><td>0.2</td></tr><tr><th>2</th><td>4.9</td><td>3.0</td><td>1.4</td><td>0.2</td></tr><tr><th>3</th><td>4.7</td><td>3.2</td><td>1.3</td><td>0.2</td></tr></tbody></table><p>Now, starting with some tabular data...</p><pre><code class="language-julia">using RDatasets
df = dataset(&quot;boot&quot;, &quot;channing&quot;);
first(df, 4)</code></pre><table class="data-frame"><thead><tr><th></th><th>Sex</th><th>Entry</th><th>Exit</th><th>Time</th><th>Cens</th></tr><tr><th></th><th>Categorical…</th><th>Int32</th><th>Int32</th><th>Int32</th><th>Int32</th></tr></thead><tbody><p>4 rows × 5 columns</p><tr><th>1</th><td>Male</td><td>782</td><td>909</td><td>127</td><td>1</td></tr><tr><th>2</th><td>Male</td><td>1020</td><td>1128</td><td>108</td><td>1</td></tr><tr><th>3</th><td>Male</td><td>856</td><td>969</td><td>113</td><td>1</td></tr><tr><th>4</th><td>Male</td><td>915</td><td>957</td><td>42</td><td>1</td></tr></tbody></table><p>...we can check MLJ&#39;s interpretation of that data:</p><pre><code class="language-julia">scitypes(df)</code></pre><pre><code class="language-none">(Sex = Multiclass{2},
 Entry = Count,
 Exit = Count,
 Time = Count,
 Cens = Count,)</code></pre><p>And construct a task by wrapping the data in a learning objective, and coercing the data into a form MLJ will correctly interpret. (The middle three fields of <code>df</code> refer to ages, in months, the last is a flag.):</p><pre><code class="language-">task = supervised(data=df,
                  target=:Exit,
                  ignore=:Time,
                  is_probabilistic=true,
                  types=Dict(:Entry=&gt;Continuous,
                             :Exit=&gt;Continuous,
                             :Cens=&gt;Multiclass))
first(task.X, 4)</code></pre><p>Shuffle the rows of a task:</p><pre><code class="language-julia">task = load_iris()
using Random
rng = MersenneTwister(1234)
shuffle!(rng, task) # rng is optional
task[1:4].y</code></pre><pre><code class="language-none">4-element CategoricalArrays.CategoricalArray{String,1,UInt32}:
 &quot;virginica&quot;
 &quot;virginica&quot;
 &quot;setosa&quot;   
 &quot;virginica&quot;</code></pre><p>Counting and selecting rows of a task:</p><pre><code class="language-julia">nrows(task)</code></pre><pre><code class="language-none">150</code></pre><pre><code class="language-julia">task[1:2].y</code></pre><pre><code class="language-none">2-element CategoricalArrays.CategoricalArray{String,1,UInt32}:
 &quot;virginica&quot;
 &quot;virginica&quot;</code></pre><p>Listing the models available to complete a task:</p><pre><code class="language-julia">models(task)</code></pre><pre><code class="language-none">Dict{String,Any} with 2 entries:
  &quot;MLJ&quot;         =&gt; Any[&quot;DeterministicConstantClassifier&quot;]
  &quot;ScikitLearn&quot; =&gt; Any[&quot;SVMLClassifier&quot;, &quot;SVMNuClassifier&quot;, &quot;SVMClassifier&quot;]</code></pre><p>Binding a model to a task and evalutating performance:</p><pre><code class="language-julia">@load DecisionTreeClassifier
mach = machine(DecisionTreeClassifier(), task)
evaluate!(mach, operation=predict_mode, resampling=Holdout(), measure=misclassification_rate, verbosity=0)</code></pre><pre><code class="language-none">0.08888888888888889</code></pre><h3><a class="nav-anchor" id="API-Reference-1" href="#API-Reference-1">API Reference</a></h3><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="MLJ.supervised" href="#MLJ.supervised"><code>MLJ.supervised</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-julia">task = supervised(data=nothing, 
                  types=Dict(), 
                  target=nothing,  
                  ignore=Symbol[], 
                  is_probabilistic=false, 
                  verbosity=1)</code></pre><p>Construct a supervised learning task with input features <code>X</code> and target <code>y</code>, where: <code>y</code> is the column vector from <code>data</code> named <code>target</code>, if this is a single symbol, or, a vector of tuples, if <code>target</code> is a vector; <code>X</code> consists of all remaining columns of <code>data</code> not named in <code>ignore</code>, and is a table unless it has only one column, in which case it is a vector.</p><p>The data types of elements in a column of <code>data</code> named as a key of the dictionary <code>types</code> are coerced to have a scientific type given by the corresponding value. Possible values are <code>Continuous</code>, <code>Multiclass</code>, <code>OrderedFactor</code> and <code>Count</code>. So, for example, <code>types=Dict(:x1=&gt;Count)</code> means elements of the column of <code>data</code> named <code>:x1</code> will be coerced into integers (whose scitypes are always <code>Count</code>).</p><pre><code class="language-none">task = supervised(X, y; 
                  input_is_multivariate=true, 
                  is_probabilistic=false, 
                  verbosity=1)</code></pre><p>A more customizable constructor, this returns a supervised learning task with input features <code>X</code> and target <code>y</code>, where: <code>X</code> must be a table or vector, according to whether it is multivariate or univariate, while <code>y</code> must be a vector whose elements are scalars, or tuples scalars (of constant length for ordinary multivariate predictions, and of variable length for sequence prediction). Table rows must correspond to patterns and columns to features. Type coercion is not available for this constructor (but see also <code>coerce</code>).</p><pre><code class="language-none">X, y = task()</code></pre><p>Returns the input <code>X</code> and target <code>y</code> of the task, also available as <code>task.X</code> and <code>task.y</code>.</p></div></div><a class="source-link" target="_blank" href="https://github.com/alan-turing-institute/MLJ.jl/blob/61bd1b8233e3961ee1f4724f210fc836e3297e27/src/tasks.jl#L150-L191">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="MLJ.unsupervised" href="#MLJ.unsupervised"><code>MLJ.unsupervised</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-julia">task = unsupervised(data=nothing, types=Dict(), ignore=Symbol[], verbosity=1)</code></pre><p>Construct an unsupervised learning task with given input <code>data</code>, which should be a table or, in the case of univariate inputs, a single vector. </p><p>The data types of elements in a column of <code>data</code> named as a key of the dictionary <code>types</code> are coerced to have a scientific type given by the corresponding value. Possible values are <code>Continuous</code>, <code>Multiclass</code>, <code>OrderedFactor</code> and <code>Count</code>. So, for example, <code>types=Dict(:x1=&gt;Count)</code> means elements of the column of <code>data</code> named <code>:x1</code> will be coerced into integers (whose scitypes are always <code>Count</code>).</p><p>Rows of <code>data</code> must correspond to patterns and columns to features. Columns in <code>data</code> whose names appear in <code>ignore</code> are ignored.</p><pre><code class="language-none">X = task()</code></pre><p>Return the input data in form to be used in models.</p><p>See also scitype, scitype_union, scitypes</p></div></div><a class="source-link" target="_blank" href="https://github.com/alan-turing-institute/MLJ.jl/blob/61bd1b8233e3961ee1f4724f210fc836e3297e27/src/tasks.jl#L195-L219">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="MLJ.models-Tuple{}" href="#MLJ.models-Tuple{}"><code>MLJ.models</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-julia">models(; show_dotted=false)</code></pre><p>List all models as a dictionary indexed on package name. Models available for immediate use appear under the key &quot;MLJ&quot;. </p><p>By declaring <code>show_dotted=true</code> models not in the top-level of the current namespace - which require dots to call, such as <code>MLJ.DeterministicConstantModel</code> - are also included.</p><pre><code class="language-none">models(task; show_dotted=false)</code></pre><p>List all models matching the specified <code>task</code>. </p><p>See also: localmodels</p></div></div><a class="source-link" target="_blank" href="https://github.com/alan-turing-institute/MLJ.jl/blob/61bd1b8233e3961ee1f4724f210fc836e3297e27/src/loading.jl#L63-L79">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="MLJ.localmodels-Tuple{}" href="#MLJ.localmodels-Tuple{}"><code>MLJ.localmodels</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-julia">localmodels()</code></pre><p>List all models available for immediate use. Equivalent to <code>models()[&quot;MLJ&quot;]</code></p><pre><code class="language-none">localmodels(task)</code></pre><p>List all such models additionally matching the specified <code>task</code>. Equivalent to <code>models(task)[&quot;MLJ&quot;]</code>.</p></div></div><a class="source-link" target="_blank" href="https://github.com/alan-turing-institute/MLJ.jl/blob/61bd1b8233e3961ee1f4724f210fc836e3297e27/src/loading.jl#L115-L126">source</a></section><footer><hr/><a class="previous" href="../"><span class="direction">Previous</span><span class="title">Getting Started</span></a><a class="next" href="../built_in_transformers/"><span class="direction">Next</span><span class="title">Built-in Transformers</span></a></footer></article></body></html>
