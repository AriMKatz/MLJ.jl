<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>MLJ Cheatsheet · MLJ</title><link href="https://cdnjs.cloudflare.com/ajax/libs/normalize/4.2.0/normalize.min.css" rel="stylesheet" type="text/css"/><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.2.0/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link href="../assets/documenter.css" rel="stylesheet" type="text/css"/></head><body><nav class="toc"><h1>MLJ</h1><select id="version-selector" onChange="window.location.href=this.value" style="visibility: hidden"></select><form class="search" id="search-form" action="../search/"><input id="search-query" name="q" type="text" placeholder="Search docs"/></form><ul><li><a class="toctext" href="../">Getting Started</a></li><li><a class="toctext" href="../evaluating_model_performance/">Evaluating model performance</a></li><li><a class="toctext" href="../performance_measures/">Performance Measures</a></li><li><a class="toctext" href="../tuning_models/">Tuning models</a></li><li><a class="toctext" href="../built_in_transformers/">Built-in Transformers</a></li><li><a class="toctext" href="../composing_models/">Composing Models</a></li><li><a class="toctext" href="../homogeneous_ensembles/">Homogeneous Ensembles</a></li><li><a class="toctext" href="../simple_user_defined_models/">Simple User Defined Models</a></li><li><a class="toctext" href="../adding_models_for_general_use/">Adding Models for General Use</a></li><li><a class="toctext" href="../working_with_tasks/">Working with Tasks</a></li><li><a class="toctext" href="../benchmarking/">Benchmarking</a></li><li><a class="toctext" href="../internals/">Internals</a></li><li><a class="toctext" href="../glossary/">Glossary</a></li><li><a class="toctext" href="../api/">API</a></li><li class="current"><a class="toctext" href>MLJ Cheatsheet</a><ul class="internal"></ul></li><li><a class="toctext" href="../NEWS/">MLJ News</a></li><li><a class="toctext" href="../frequently_asked_questions/">FAQ</a></li><li><a class="toctext" href="../julia_blogpost/">Julia BlogPost</a></li></ul></nav><article id="docs"><header><nav><ul><li><a href>MLJ Cheatsheet</a></li></ul><a class="edit-page" href="https://github.com/alan-turing-institute/MLJ.jl/blob/master/docs/src/mlj_cheatsheet.md"><span class="fa"></span> Edit on GitHub</a></nav><hr/><div id="topbar"><span>MLJ Cheatsheet</span><a class="fa fa-bars" href="#"></a></div></header><h1><a class="nav-anchor" id="MLJ-Cheatsheet-1" href="#MLJ-Cheatsheet-1">MLJ Cheatsheet</a></h1><h4><a class="nav-anchor" id="Tasks-1" href="#Tasks-1">Tasks</a></h4><p><code>task = supervised(data=…, types=…, target=…, ignore=…, is_probabilistic=false, verbosity=1)</code></p><p><code>task = unsupervised(data=…, types=…, ignore=…, verbosity=1)</code>   </p><p><code>task.X</code> for inputs (a vector or table)</p><p><code>task.y</code> for target (a vector)</p><p><code>shuffle(task)</code></p><p><code>task[1:10]</code></p><p><code>nrows(task)</code></p><p><code>models(task)</code> is all models adapted to the task</p><h4><a class="nav-anchor" id="Data-and-scitypes-1" href="#Data-and-scitypes-1">Data and scitypes</a></h4><p><code>Finite{N}</code> has subtypes <code>Multiclass{N}</code> and <code>OrderedFactor{N}</code>.</p><p><code>Infinite</code> has subtypes <code>Continuous</code> and <code>Count</code></p><p><code>scitype(x)</code> is the scientific type of <code>x</code></p><p>Use <code>schema(X)</code> to get the column scitypes of a table <code>X</code></p><p><code>coerce(Multiclass, y)</code> attempts coercion of all elements of <code>y</code> into scientific type <code>Multiclass</code></p><p><code>coerce(Dict(:x1 =&gt; Continuous, :x2 =&gt; OrderedFactor), X)</code> to coerce columns <code>:x1</code> and <code>:x2</code> of <code>X</code>.</p><h4><a class="nav-anchor" id="Machine-construction-1" href="#Machine-construction-1">Machine construction</a></h4><p>Supervised case:</p><p><code>model = KNNRegressor(K=1)</code> and <code>mach = machine(model, X, y)</code> or <code>mach = machine(model, task)</code></p><p>Unsupervised case:</p><p><code>model = OneHotEncoder()</code> and <code>mach = machine(model, X)</code> or <code>mach = machine(model, task)</code></p><h4><a class="nav-anchor" id="Inspect-all-model-hyperparameters,-even-nested-ones:-1" href="#Inspect-all-model-hyperparameters,-even-nested-ones:-1">Inspect all model hyperparameters, even nested ones:</a></h4><p><code>params(model)</code></p><h4><a class="nav-anchor" id="Get-detail-on-last-object-in-REPL:-1" href="#Get-detail-on-last-object-in-REPL:-1">Get detail on last object in REPL:</a></h4><p><code>@more</code></p><h4><a class="nav-anchor" id="Fitting-1" href="#Fitting-1">Fitting</a></h4><p><code>fit!(mach, rows=:, verbosity=1, force=false)</code></p><h4><a class="nav-anchor" id="Inspecting-results-of-fitting-1" href="#Inspecting-results-of-fitting-1">Inspecting results of fitting</a></h4><p><code>fitted_params(mach)</code> for learned parameters</p><p><code>report(mach)</code> for other results (e.g. feature rankings)</p><h4><a class="nav-anchor" id="Prediction-1" href="#Prediction-1">Prediction</a></h4><p>Supervised case: <code>predict(mach, Xnew)</code> or <code>predict(mach, rows=:)</code> or <code>predict(mach, task)</code></p><p>Similarly, for probabilistic models: <code>predict_mode</code>, <code>predict_mean</code> and <code>predict_median</code>.</p><p>Unsupervised case: <code>transform(mach, rows=:)</code> or <code>inverse_transform(mach, rows)</code>, etc.</p><h4><a class="nav-anchor" id="Resampling-strategies-1" href="#Resampling-strategies-1">Resampling strategies</a></h4><p><code>Holdout(fraction_train=…, shuffle=false)</code> for simple holdout</p><p><code>CV(nfolds=6, parallel=true, shuffle=false)</code> for cross-validation</p><p>or a list of pairs of row indices:</p><p><code>[(train1, eval1), (train2, eval2), ... (traink, evalk)]</code> </p><h4><a class="nav-anchor" id="Performance-estimation-1" href="#Performance-estimation-1">Performance estimation</a></h4><p><code>evaluate(model, X, y, resampling=CV(), measure=..., operation=predict, weights=..., verbosity=1)</code> <code>evaluate!(mach, resampling=Holdout(), measure=..., operation=predict, weights=..., verbosity=1)</code></p><h4><a class="nav-anchor" id="Ranges-for-tuning-1" href="#Ranges-for-tuning-1">Ranges for tuning</a></h4><p>If <code>r = range(KNNRegressor(), :K, lower=1, upper = 20, scale=:log)</code> then <code>iterator(r, 6) = [1, 2, 3, 6, 11, 20]</code></p><p>Non-numeric ranges: <code>r = range(model, :parameter, values=…)</code>.</p><p>Nested ranges: Use dot syntax, as in <code>r = range(EnsembleModel(atom=tree), :(atom.max_depth), ...)</code></p><h4><a class="nav-anchor" id="Tuning-strategies-1" href="#Tuning-strategies-1">Tuning strategies</a></h4><p><code>Grid(resolution=10, parallel=true)</code> for grid search</p><h4><a class="nav-anchor" id="Tuning-model-wrapper-1" href="#Tuning-model-wrapper-1">Tuning model wrapper</a></h4><p><code>tuned_model = TunedModel(model=…, tuning=Grid(), resampling=Holdout(), measure=…, operation=predict, ranges=…, minimize=true, full_report=true)</code></p><p>Use <code>params(model)</code> to get pattern to match in specifying <code>nested_ranges</code>.</p><h4><a class="nav-anchor" id="Learning-curves-1" href="#Learning-curves-1">Learning curves</a></h4><p><code>curve = learning_curve!(mach, resolution=30, resampling=Holdout(), measure=…, operation=predict, range=…,, n=1)</code></p><p>If using Plots.jl:</p><p><code>plot(curve.parameter_values, curve.measurements, xlab=curve.parameter_name, xscale=curve.parameter_scale)</code> </p><h4><a class="nav-anchor" id="Built-in-measures-1" href="#Built-in-measures-1">Built-in measures</a></h4><p><code>l1</code>, <code>l2</code>, <code>mav</code>, <code>rms</code>, <code>rmsl</code>, <code>rmslp1</code>, <code>rmsp</code>, <code>misclassification_rate</code>, <code>cross_entropy</code></p><h4><a class="nav-anchor" id="Transformers-1" href="#Transformers-1">Transformers</a></h4><p>Built-ins include: <code>Standardizer</code>, <code>OneHotEncoder</code>, <code>UnivariateBoxCoxTransformer</code>, <code>FeatureSelector</code>, <code>UnivariateStandardizer</code></p><p>Externals include: <code>PCA</code> (in MultivariateStats), <code>KMeans</code>, <code>KMedoids</code> (in Clustering).</p><p>Full list: do <code>models(m -&gt; !m[:is_supervised])</code></p><h4><a class="nav-anchor" id="Ensemble-model-wrapper-1" href="#Ensemble-model-wrapper-1">Ensemble model wrapper</a></h4><p><code>EnsembleModel(atom=…, weights=Float64[], bagging_fraction=0.8, rng=GLOBAL_RNG, n=100, parallel=true, out_of_bag_measure=[])</code></p><h4><a class="nav-anchor" id="Define-a-linear-pipeline-with-point-predictions:-1" href="#Define-a-linear-pipeline-with-point-predictions:-1">Define a linear pipeline with point-predictions:</a></h4><p><code>pipe = @pipeline MyPipe(hot = OneHotEncoder(), knn = KNNRegressor(K=3), target = UnivariateStandardizer())</code></p><h4><a class="nav-anchor" id="Define-a-linear-pipeline-with-probabilistic-predictions:-1" href="#Define-a-linear-pipeline-with-probabilistic-predictions:-1">Define a linear pipeline with probabilistic-predictions:</a></h4><p><code>pipe = @pipeline MyPipe(hot = OneHotEncoder(), knn = KNNRegressor(K=3), target = UnivariateStandardizer()) is_probabilistic=true</code></p><h4><a class="nav-anchor" id="Start-a-supervised-learning-network:-1" href="#Start-a-supervised-learning-network:-1">Start a supervised learning network:</a></h4><p><code>Xs = source(X)</code> <code>ys = source(y, kind=:target)</code>  ...  <code>yhat = predict(knn_machine, W, ys)</code> (<code>yhat</code> terminal node)</p><h4><a class="nav-anchor" id="Export-a-supervised-learning-network-with-point-predictions:-1" href="#Export-a-supervised-learning-network-with-point-predictions:-1">Export a supervised learning network with point-predictions:</a></h4><p><code>@from_network Composite(pca=network_pca, knn=network_knn) &lt;= yhat</code></p><h4><a class="nav-anchor" id="Export-a-supervised-learning-network-with-probabilistic-predictions:-1" href="#Export-a-supervised-learning-network-with-probabilistic-predictions:-1">Export a supervised learning network with probabilistic predictions:</a></h4><p><code>@from_network Composite(knn=network_knn) &lt;= yhat is_probabistic=true</code></p><h4><a class="nav-anchor" id="Export-an-unsupervised-learning-network:-1" href="#Export-an-unsupervised-learning-network:-1">Export an unsupervised learning network:</a></h4><p><code>@from_network Composite(pca=network_pca) &lt;= Xout</code> (<code>Xout</code> terminal node)</p><footer><hr/><a class="previous" href="../api/"><span class="direction">Previous</span><span class="title">API</span></a><a class="next" href="../NEWS/"><span class="direction">Next</span><span class="title">MLJ News</span></a></footer></article></body></html>
