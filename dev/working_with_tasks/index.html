<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Working with Tasks Â· MLJ</title><link href="https://cdnjs.cloudflare.com/ajax/libs/normalize/4.2.0/normalize.min.css" rel="stylesheet" type="text/css"/><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.2.0/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link href="../assets/documenter.css" rel="stylesheet" type="text/css"/></head><body><nav class="toc"><h1>MLJ</h1><select id="version-selector" onChange="window.location.href=this.value" style="visibility: hidden"></select><form class="search" id="search-form" action="../search/"><input id="search-query" name="q" type="text" placeholder="Search docs"/></form><ul><li><a class="toctext" href="../">Getting Started</a></li><li class="current"><a class="toctext" href>Working with Tasks</a><ul class="internal"></ul></li><li><a class="toctext" href="../built_in_transformers/">Built-in Transformers</a></li><li><a class="toctext" href="../learning_networks/">Learning Networks</a></li><li><a class="toctext" href="../simple_user_defined_models/">Simple User Defined Models</a></li><li><a class="toctext" href="../adding_models_for_general_use/">Adding Models for General Use</a></li><li><a class="toctext" href="../internals/">Internals</a></li><li><a class="toctext" href="../glossary/">Glossary</a></li><li><a class="toctext" href="../api/">API</a></li><li><a class="toctext" href="../frequently_asked_questions/">FAQ</a></li><li><a class="toctext" href="../NEWS/">MLJ News</a></li><li><a class="toctext" href="../julia_blogpost/">Julia BlogPost</a></li></ul></nav><article id="docs"><header><nav><ul><li><a href>Working with Tasks</a></li></ul><a class="edit-page" href="https://github.com/alan-turing-institute/MLJ.jl/blob/master/docs/src/working_with_tasks.md"><span class="fa">ï‚›</span> Edit on GitHub</a></nav><hr/><div id="topbar"><span>Working with Tasks</span><a class="fa fa-bars" href="#"></a></div></header><h1><a class="nav-anchor" id="Working-with-Tasks-1" href="#Working-with-Tasks-1">Working with Tasks</a></h1><p>In MLJ a <em>task</em> is a synthesis of three elements: <em>data</em>, an <em>interpretation</em> of that data, and a <em>learning objective</em>. Once one has a task one is ready to choose learning models.</p><h3><a class="nav-anchor" id="Scientific-types-and-the-interpretation-of-data-1" href="#Scientific-types-and-the-interpretation-of-data-1">Scientific types and the interpretation of data</a></h3><p>Generally the columns of a table, such as a DataFrame, represents real quantities. However, the nature of a quantity is not always clear from the representation. For example, we might count phone calls using the <code>UInt32</code> type but also use <code>UInt32</code> to represent a categorical feature, such as the species of conifers. MLJ mitigates such ambiguity by: (i) distinguishing between the machine and <em><a href="../">scientific type</a></em> of scalar data; (ii) disallowing the representation of multiple scientific types by the same machine type during learning; and (iii) establising a convention for what scientific types a given machine type may represent (see the table at the end of <a href="../">Getting Started</a>).</p><p>Explicitly specifying scientific types during the construction of a MLJ task is the user&#39;s opportunity to articulate how the supplied data should be interpreted.</p><blockquote><p>WIP: At present scitypes cannot be specified and the user must manually coerce data before task construction. </p></blockquote><h3><a class="nav-anchor" id="Learning-objectives-1" href="#Learning-objectives-1">Learning objectives</a></h3><p>In MLJ specifying a learing objective means specifying: (i) whether learning is supervised or not; (ii) whether, in the supervised case, predictions are to be probabilistic or deterministic; and (iii) what part of the data is relevant and what role is each part to play.</p><h3><a class="nav-anchor" id="Sample-usage-1" href="#Sample-usage-1">Sample usage</a></h3><p>Load a built-in task:</p><pre><code class="language-julia">using MLJ
task = load_iris()</code></pre><pre><code class="language-none">[34mSupervisedTask @ 5â€¦09[39m
</code></pre><p>Extract input and target:</p><pre><code class="language-julia">X, y = task()
X[1:3, :]</code></pre><table class="data-frame"><thead><tr><th></th><th>sepal_length</th><th>sepal_width</th><th>petal_length</th><th>petal_width</th></tr><tr><th></th><th>Float64</th><th>Float64</th><th>Float64</th><th>Float64</th></tr></thead><tbody><p>3 rows Ã— 4 columns</p><tr><th>1</th><td>5.1</td><td>3.5</td><td>1.4</td><td>0.2</td></tr><tr><th>2</th><td>4.9</td><td>3.0</td><td>1.4</td><td>0.2</td></tr><tr><th>3</th><td>4.7</td><td>3.2</td><td>1.3</td><td>0.2</td></tr></tbody></table><p>Supposing we have some new data, say</p><pre><code class="language-julia">coltable = (height = Float64[183, 145, 160, 78, 182, 76],
            gender = categorical([:m, :f, :f, :f, :m, :m]),
            weight = Float64[92, 67, 62, 25, 80, 31],
            age = Float64[53, 12, 60, 5, 31, 7],
            overall_health = categorical([1, 2, 1, 3, 3, 1], ordered=true))</code></pre><pre><code class="language-none">(height = [183.0, 145.0, 160.0, 78.0, 182.0, 76.0],
 gender = CategoricalArrays.CategoricalValue{Symbol,UInt32}[:m, :f, :f, :f, :m, :m],
 weight = [92.0, 67.0, 62.0, 25.0, 80.0, 31.0],
 age = [53.0, 12.0, 60.0, 5.0, 31.0, 7.0],
 overall_health = CategoricalArrays.CategoricalValue{Int64,UInt32}[1, 2, 1, 3, 3, 1],)</code></pre><p>we can check MLJ&#39;s default interpretation of that data:</p><pre><code class="language-julia">scitypes(X)</code></pre><pre><code class="language-none">(sepal_length = Continuous,
 sepal_width = Continuous,
 petal_length = Continuous,
 petal_width = Continuous,)</code></pre><p>And construct a associated task:</p><pre><code class="language-julia">task = SupervisedTask(data=coltable, target=:overall_health, ignore=:gender, is_probabilistic=true)</code></pre><pre><code class="language-none">[34mSupervisedTask @ 1â€¦58[39m
</code></pre><blockquote><p>WIP: In the near future users will be able to override the default interpretation of the data.</p></blockquote><p>To list models matching a task:</p><pre><code class="language-julia">models(task)</code></pre><pre><code class="language-none">Dict{String,Any} with 4 entries:
  &quot;MLJ&quot;          =&gt; Any[&quot;ConstantClassifier&quot;]
  &quot;DecisionTree&quot; =&gt; Any[&quot;DecisionTreeClassifier&quot;]
  &quot;NaiveBayes&quot;   =&gt; Any[&quot;GaussianNBClassifier&quot;]
  &quot;XGBoost&quot;      =&gt; Any[&quot;XGBoostClassifier&quot;]</code></pre><p>Row selection for a task:</p><pre><code class="language-julia">nrows(task)</code></pre><pre><code class="language-none">6</code></pre><pre><code class="language-julia">task[1:2].y</code></pre><pre><code class="language-none">2-element CategoricalArrays.CategoricalArray{Int64,1,UInt32}:
 1
 2</code></pre><p>Shuffle the rows of a task:</p><pre><code class="language-julia">task = load_iris()
using Random
rng = MersenneTwister(1234)
shuffle!(rng, task) # rng is optional
task[1:4].y</code></pre><pre><code class="language-none">4-element CategoricalArrays.CategoricalArray{String,1,UInt32}:
 &quot;virginica&quot;
 &quot;virginica&quot;
 &quot;setosa&quot;   
 &quot;virginica&quot;</code></pre><p>Binding a model to a task and evalutating performance:</p><pre><code class="language-julia">@load DecisionTreeClassifier
mach = machine(DecisionTreeClassifier(target_type=String), task)
evaluate!(mach, operation=predict_mode, resampling=Holdout(), measure=misclassification_rate, verbosity=0)</code></pre><pre><code class="language-none">0.08888888888888889</code></pre><h3><a class="nav-anchor" id="API-Reference-1" href="#API-Reference-1">API Reference</a></h3><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="MLJBase.UnsupervisedTask" href="#MLJBase.UnsupervisedTask"><code>MLJBase.UnsupervisedTask</code></a> â€” <span class="docstring-category">Type</span>.</div><div><div><pre><code class="language-julia">task = UnsupervisedTask(data=nothing, ignore=Symbol[], verbosity=1)</code></pre><p>Construct an unsupervised learning task with given input <code>data</code>, which should be a table or, in the case of univariate inputs, a single vector. </p><p>Rows of <code>data</code> must correspond to patterns and columns to features. Columns in <code>data</code> whose names appear in <code>ignore</code> are ignored.</p><pre><code class="language-none">X = task()</code></pre><p>Return the input data in form to be used in models.</p></div></div><a class="source-link" target="_blank" href="https://github.com/alan-turing-institute/MLJBase.jl/blob/e4f9d76dd9e1730511a45a7fc4e53171c198af15/src/tasks.jl#L9-L24">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="MLJBase.SupervisedTask" href="#MLJBase.SupervisedTask"><code>MLJBase.SupervisedTask</code></a> â€” <span class="docstring-category">Type</span>.</div><div><div><pre><code class="language-julia">task = SupervisedTask(data=nothing, is_probabilistic=false, target=nothing, ignore=Symbol[], verbosity=1)</code></pre><p>Construct a supervised learning task with input features <code>X</code> and target <code>y</code>, where: <code>y</code> is the column vector from <code>data</code> named <code>target</code>, if this is a single symbol, or, a vector of tuples, if <code>target</code> is a vector; <code>X</code> consists of all remaining columns of <code>data</code> not named in <code>ignore</code>, and is a table unless it has only one column, in which case it is a vector.</p><pre><code class="language-none">task = SupervisedTask(X, y; is_probabilistic=false, input_is_multivariate=true, verbosity=1)</code></pre><p>A more customizable constructor, this returns a supervised learning task with input features <code>X</code> and target <code>y</code>, where: <code>X</code> must be a table or vector, according to whether it is multivariate or univariate, while <code>y</code> must be a vector whose elements are scalars, or tuples scalars (of constant length for ordinary multivariate predictions, and of variable length for sequence prediction). Table rows must correspond to patterns and columns to features. </p><pre><code class="language-none">X, y = task()</code></pre><p>Returns the input <code>X</code> and target <code>y</code> of the task, also available as <code>task.X</code> and <code>task.y</code>.</p></div></div><a class="source-link" target="_blank" href="https://github.com/alan-turing-institute/MLJBase.jl/blob/e4f9d76dd9e1730511a45a7fc4e53171c198af15/src/tasks.jl#L82-L107">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="MLJ.models-Tuple{}" href="#MLJ.models-Tuple{}"><code>MLJ.models</code></a> â€” <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-julia">models(; show_dotted=false)</code></pre><p>List all models as a dictionary indexed on package name. Models available for immediate use appear under the key &quot;MLJ&quot;. </p><p>By declaring <code>show_dotted=true</code> models not in the top-level of the current namespace - which require dots to call, such as <code>MLJ.DeterministicConstantModel</code> - are also included.</p><pre><code class="language-none">models(task; show_dotted=false)</code></pre><p>List all models matching the specified <code>task</code>. </p><p>See also: localmodels</p></div></div><a class="source-link" target="_blank" href="https://github.com/alan-turing-institute/MLJ.jl/blob/29b4be388ac6d797f08b8dbd7d0b4baf1b342390/src/loading.jl#L59-L75">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="MLJ.localmodels-Tuple{}" href="#MLJ.localmodels-Tuple{}"><code>MLJ.localmodels</code></a> â€” <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-julia">localmodels()</code></pre><p>List all models available for immediate use. Equivalent to <code>models()[&quot;MLJ&quot;]</code></p><pre><code class="language-none">localmodels(task)</code></pre><p>List all such models additionally matching the specified <code>task</code>. Equivalent to <code>models(task)[&quot;MLJ&quot;]</code>.</p></div></div><a class="source-link" target="_blank" href="https://github.com/alan-turing-institute/MLJ.jl/blob/29b4be388ac6d797f08b8dbd7d0b4baf1b342390/src/loading.jl#L111-L122">source</a></section><footer><hr/><a class="previous" href="../"><span class="direction">Previous</span><span class="title">Getting Started</span></a><a class="next" href="../built_in_transformers/"><span class="direction">Next</span><span class="title">Built-in Transformers</span></a></footer></article></body></html>
